flows:
  pattern_completed:
    description: Completion of a user's flow
    steps:
      - action: utter_change_topic
  transfer_money:
    description: Help users send money to friends and family.
    steps:
      - collect: recipient
      - action: action_validate_recipient
        next:
          - if: not slots.recipient_exists
            then:
              - action: utter_recipient_not_found
                next: END
          - else: collect_amount
      - collect: amount
        id: collect_amount
        description: the number of swiss francs to send
      - action: action_check_sufficient_funds
        next:
          - if: not slots.has_sufficient_funds
            then:
              - action: utter_insufficient_funds
                next: END
          - else: final_confirmation
      - collect: final_confirmation
        id: final_confirmation
        next:
          - if: not slots.final_confirmation
            then:
              - action: utter_transfer_cancelled
                next: END
          - else: transfer_successful
      - action: utter_transfer_complete
        id: transfer_successful
      - set_slots:
          - final_confirmation: null